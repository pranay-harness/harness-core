harnessApiVersion: '1.0'
type: INFRA_DEFINITION
cloudProviderType: AWS
deploymentType: AWS_CODEDEPLOY
infrastructure:
- type: CODE_DEPLOY
  applicationName: Test
  cloudProviderName: TEST_CLOUD_PROVIDER
  deploymentConfig: Test
  deploymentGroup: test-group
  hostNameConvention: ${host.ec2Instance.privateDnsName.split('\.')[0]}
  region: us-east-1
name: infra-def