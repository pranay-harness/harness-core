extend type Mutation {
  createUserGroup(input: CreateUserGroupInput!): CreateUserGroupPayload @dataFetcher(name: createUserGroup)
  updateUserGroup(input: UpdateUserGroupInput!): UpdateUserGroupPayload @dataFetcher(name: updateUserGroup)
  updateUserGroupPermissions(userGroupId: String!, permissions: Permissions!): UserGroupPermissions
    @dataFetcher(name: userGroupUpdatePermissions)
  deleteUserGroup(input: DeleteUserGroupInput!): DeleteUserGroupPayload @dataFetcher(name: deleteUserGroup)
}

extend type Query {
  userGroup(userGroupId: String!): UserGroup @dataFetcher(name: userGroup)
  userGroups(limit: Int!, offset: Int): UserGroupConnection @dataFetcher(name: userGroupConnection)
}

input CreateUserGroupInput {
  requestId: String
  name: String!
  description: String
  userIds: [String]
  permissions: Permissions
  notificationSettings: NotificationSettingsInput
}

input UpdateUserGroupInput {
  requestId: String
  name: String
  userGroupId: String!
  description: String
  userIds: [String]
  permissions: Permissions
  notificationSettings: NotificationSettingsInput
}

input DeleteUserGroupInput {
  requestId: String
  userGroupId: String!
}

type UserGroup {
  id: String
  name: String
  description: String
  users(limit: Int!, offset: Int): UserConnection
    @dataFetcher(name: userConnection, contextFieldArgsMap: "{ \"userGroup\": \"id\"}")
  importedByScim: Boolean
  isSSOLinked: Boolean
  notificationSettings: NotificationSettings
  permissions: UserGroupPermissions
}

type UserGroupConnection {
  pageInfo: PageInfo
  nodes: [UserGroup]
}

type CreateUserGroupPayload {
  requestId: String
  userGroup: UserGroup
}

type UpdateUserGroupPayload {
  requestId: String
  userGroup: UserGroup
}

input NotificationSettingsInput {
  sendNotificationToMembers: Boolean
  sendMailToNewMembers: Boolean
  groupEmailAddresses: [String]
  slackNotificationSetting: SlackNotificationSettingInput
  pagerDutyIntegrationKey: String
}

input SlackNotificationSettingInput {
  slackChannelName: String
  slackWebhookURL: String
}

type NotificationSettings {
  sendNotificationToMembers: Boolean
  sendMailToNewMembers: Boolean
  groupEmailAddresses: [String]
  slackNotificationSetting: SlackNotificationSetting
}

type SlackNotificationSetting {
  slackChannelName: String
  slackWebhookURL: String
}

enum RequestStatus {
  SUCCESS
  FAILED
}

type DeleteUserGroupPayload {
  requestId: String
}
