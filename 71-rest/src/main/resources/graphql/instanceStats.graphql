enum InstanceFilterType {
  CreatedAt
  Application
  Service
  Environment
  CloudProvider
  InstanceType
}

enum InstanceAggregation {
  Application
  Service
  Environment
  CloudProvider
  InstanceType
}

input InstanceFilter {
  type: InstanceFilterType
  values: [String]
}

extend type Query {
  # Get instance stats.
  # select * from Instance where applicationid = 123 group by
  instanceStats(
    aggregateFunction: AggregateFunction
    timeRange: TimeRange
    filters: [InstanceFilter]
    groupBy: [InstanceAggregation]
    groupByTime: TimeSeriesAggregation
  ): Data @dataFetcher(name: instanceStats)
}
