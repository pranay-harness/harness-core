enum InstanceFilterType {
  CreatedAt
  Application
  Service
  Environment
  CloudProvider
  InstanceType
}

enum InstanceAggregation {
  Application
  Service
  Environment
  CloudProvider
  InstanceType
}

#input InstanceFilter {
#  stringFilters: [StringField]
#  dateFilters: [DateField]
#  numberFilters: [NumberField]
#}
#
#input inputs {
#  stringValues: [StringField]
#  dateValues: [DateField]
#  numberValues: [NumberField]
#}
#
#input StringField {
#  type: InstanceFilterType
#  operator: ComparisonOperator
#  value: [String]
#}
#
#input DateField {
#  type: InstanceFilterType
#  operator: ComparisonOperator
#  value: [DateTime]
#}
#
#input NumberField {
#  type: InstanceFilterType
#  operator: ComparisonOperator
#  value: [Number]
#}

input InstanceFilter {
  type: InstanceFilterType
  stringFilter: StringFilter
  numberFilter: NumberFilter
}

extend type Query {
  # Get instance stats.
  # select * from Instance where applicationid = 123 group by
  instanceStats(
    aggregateFunction: AggregateFunction
    timeRange: TimeRange
    filters: [InstanceFilter]
    groupBy: [InstanceAggregation]
    groupByTime: TimeSeriesAggregation
  ): Data @dataFetcher(name: instanceStats)
}
