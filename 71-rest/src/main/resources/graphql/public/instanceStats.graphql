enum InstanceAggregation {
  Application
  Service
  Environment
  CloudProvider
  InstanceType
}

input InstanceAggregateFunction {
  count: CountAggregateOperation
}

extend type Query {
  # Get instance stats.
  # select * from Instance where applicationid = 123 group by
  instanceStats(
    aggregateFunction: InstanceAggregateFunction
    filters: [InstanceFilter]
    groupBy: [InstanceAggregation]
    groupByTime: TimeSeriesAggregation
  ): Data @dataFetcher(name: instanceStats)
}
