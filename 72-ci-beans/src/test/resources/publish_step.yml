identifier: publishArtifacts
name: publish artifacts step test
publishArtifacts:
  - filePattern: ~/.m2/*-${BUILD_NUMBER}.jar
    destination:
      location: gs://snapshot-delegate-jars/artifacts/
      connector: myGCPConnector
  - filePattern: ~/.m2/watcher-${BUILD_NUMBER}.jar
    destination:
      location: s3://snapshot-watcher-jars/artifacts/
      connector: myS3Connector
  - dockerFile: ~/Dockerfile
    image: ui
    tag: 1.0.0
    buildArguments:
      key1: value1
      key2: value2
    destination:
      location: eu.gcr.io/harness/ui:latest
      connector: myDockerRepoConnector
  - dockerImage: build-based-image
    tag: 1.0.0
  - dockerImage: build-based-image
    tag: 1.0.0
    destination:
      connector: myDockerHubConnector
  - dockerImage: build-based-image
    tag: 1.0.0
    destination:
      location: gs://myBucket/ciApp
      connector: myGcrConnector