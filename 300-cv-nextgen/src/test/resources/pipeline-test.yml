pipeline:
  identifier: p1
  name: pipeline1
  stages:
    - stage:
        identifier: managerDeployment
        type: deployment
        name: managerDeployment
        spec:
          service:
            identifier: manager
            name: manager
            serviceDefinition:
              type: k8s
              spec:
                field11: value1
                field12: value2
          infrastructure:
            environment:
              identifier: stagingInfra
              type: preProduction
              name: staging
            infrastructureDefinition:
              type: k8sDirect
              spec:
                connectorRef: pEIkEiNPSgSUsbWDDyjNKw
                namespace: harness
                releaseName: testingqa
          execution:
            steps:
              - step:
                  type: Verify
                  name: verification
                  identifier: verification
                  timeout: 20s
                  spec:
                    monitoredServiceRef: cv_nextgen
                    type: Canary
                    healthSources:
                      - identifier: appd
                      - identifier: newrelic
                    spec:
                      deploymentTag: <+artifact.buildno>
                      sensitivity: low
                      duration: 10m